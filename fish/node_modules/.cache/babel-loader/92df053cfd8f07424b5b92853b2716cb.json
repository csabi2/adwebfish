{"ast":null,"code":"import dispatcher from \"../dispatchers/Dispatcher\";\nimport profile from \"../store/ProfileStore\";\nimport constants from \"../Constants\";\nimport equipmentStore from \"../store/EquipmentStore\";\n\nconst axios = require('axios');\n\nclass ProfileActions {\n  getProfile(item) {\n    dispatcher.handleViewAction({\n      commandType: 'GET_PROFILE',\n      item: item\n    });\n  }\n\n  getPersonal(item) {\n    dispatcher.handleViewAction({\n      commandType: 'GET_PERSONAL',\n      item: item\n    });\n  }\n\n}\n\nexport default new ProfileActions();\ndispatcher.register(action => {\n  if (action.command.commandType === 'GET_PERSONAL') {\n    var id = action.command.item.id;\n    getPersonalData(id);\n  } else if (action.command.commandType === 'GET_PROFILE') {\n    var equipmentRaw = [];\n    axios.get('http://localhost:3001/fisher_equipment?fisherman=' + getFishermanIdOrDefault(id)).then(res => {\n      console.log(res.data);\n      equipmentRaw = res.data;\n      profile._equipment = [];\n      equipmentRaw.forEach((value, index) => {\n        var equipment_item = equipmentStore._equipment_items.filter(item => item.id === value.equipment)[0];\n\n        profile._equipment.push({\n          name: equipment_item.name,\n          general_description: equipment_item.description,\n          personal_description: value.additional_description\n        });\n\n        console.log(profile._equipment);\n      });\n      profile.emitChange();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n});\n\nvar getPersonalData = id => {\n  axios.get('http://localhost:3001/fishermen?id=' + getFishermanIdOrDefault(id)).then(res => {\n    console.log(res.data[0]);\n    profile._profile = res.data[0];\n    profile.emitChange();\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nvar getFishermanIdOrDefault = id => {\n  return id ? id : `${constants.default_demo_profile_id}`;\n};","map":{"version":3,"sources":["/home/wwitdtstl/Desktop/AdvancedWeb/myfisherman/fish/src/actions/ProfileActions.js"],"names":["dispatcher","profile","constants","equipmentStore","axios","require","ProfileActions","getProfile","item","handleViewAction","commandType","getPersonal","register","action","command","id","getPersonalData","equipmentRaw","get","getFishermanIdOrDefault","then","res","console","log","data","_equipment","forEach","value","index","equipment_item","_equipment_items","filter","equipment","push","name","general_description","description","personal_description","additional_description","emitChange","catch","err","_profile","default_demo_profile_id"],"mappings":"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","sourcesContent":["import dispatcher from \"../dispatchers/Dispatcher\";\nimport profile from \"../store/ProfileStore\"\nimport constants from \"../Constants\";\nimport equipmentStore from \"../store/EquipmentStore\";\n\nconst axios = require('axios');\n\nclass ProfileActions{\n    getProfile(item){\n        dispatcher.handleViewAction({\n            commandType: 'GET_PROFILE',\n            item: item\n        });\n    }\n\n    getPersonal(item){\n        dispatcher.handleViewAction({\n            commandType: 'GET_PERSONAL',\n            item: item\n        });\n    }\n}\n\nexport default new ProfileActions()\n\ndispatcher.register((action) => {\n    if(action.command.commandType === 'GET_PERSONAL'){\n        var id = action.command.item.id;\n        getPersonalData(id);\n    }\n    else if(action.command.commandType === 'GET_PROFILE'){\n\n       var equipmentRaw = [];\n       axios.get('http://localhost:3001/fisher_equipment?fisherman=' + getFishermanIdOrDefault(id))\n           .then((res) => {\n               console.log(res.data);\n               equipmentRaw = res.data;\n               profile._equipment = [];\n               equipmentRaw.forEach(((value, index) => {\n                   var equipment_item = equipmentStore._equipment_items.filter((item) => item.id === value.equipment)[0];\n                   profile._equipment.push({name: equipment_item.name,\n                       general_description: equipment_item.description,\n                       personal_description: value.additional_description});\n                   console.log(profile._equipment);\n               }));\n               profile.emitChange();\n           })\n           .catch((err) => {\n               console.log(err);\n           });\n\n   }\n});\n\nvar getPersonalData = (id) => {\n    axios.get('http://localhost:3001/fishermen?id=' + getFishermanIdOrDefault(id))\n        .then((res) => {\n            console.log(res.data[0]);\n            profile._profile = res.data[0];\n            profile.emitChange();\n\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n};\n\nvar getFishermanIdOrDefault = (id) => {\n    return (id ? id : `${constants.default_demo_profile_id}`);\n};"]},"metadata":{},"sourceType":"module"}