{"ast":null,"code":"import dispatcher from \"../dispatchers/Dispatcher\";\nimport EventEmitter from \"events\";\n\nconst axios = require('axios');\n\nclass LocationStore extends EventEmitter {\n  constructor(...args) {\n    super(...args);\n    this._locations = [];\n  }\n\n  emitChange() {\n    this.emit('change');\n  }\n\n  addChangeListener(callback) {\n    this.addListener('change', callback);\n  }\n\n  removeChangeListener(callback) {\n    this.removeListener('change', callback);\n  }\n\n}\n\nconst locationStore = new LocationStore();\nexport default locationStore;\ndispatcher.register(action => {\n  if (action.command.commandType === 'GET_LOC_LIST') {\n    axios.get('http://localhost:3001/locations').then(res => {\n      locationStore._locations = res.data;\n      console.log(\"Locations loaded\");\n      locationStore.emitChange();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n});","map":{"version":3,"sources":["/home/wwitdtstl/Desktop/AdvancedWeb/myfisherman/fish/src/store/Locations.js"],"names":["dispatcher","EventEmitter","axios","require","LocationStore","_locations","emitChange","emit","addChangeListener","callback","addListener","removeChangeListener","removeListener","locationStore","register","action","command","commandType","get","then","res","data","console","log","catch","err"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,2BAAvB;AACA,OAAOC,YAAP,MAAyB,QAAzB;;AAEA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,MAAMC,aAAN,SAA4BH,YAA5B,CAAwC;AAAA;AAAA;AAAA,SACpCI,UADoC,GACvB,EADuB;AAAA;;AAGpCC,EAAAA,UAAU,GAAE;AACR,SAAKC,IAAL,CAAU,QAAV;AACH;;AAEDC,EAAAA,iBAAiB,CAACC,QAAD,EAAU;AACvB,SAAKC,WAAL,CAAiB,QAAjB,EAA0BD,QAA1B;AACH;;AAEDE,EAAAA,oBAAoB,CAACF,QAAD,EAAU;AAC1B,SAAKG,cAAL,CAAoB,QAApB,EAA8BH,QAA9B;AACH;;AAbmC;;AAkBxC,MAAMI,aAAa,GAAG,IAAIT,aAAJ,EAAtB;AACA,eAAeS,aAAf;AAEAb,UAAU,CAACc,QAAX,CAAqBC,MAAD,IAAY;AAC5B,MAAIA,MAAM,CAACC,OAAP,CAAeC,WAAf,KAA+B,cAAnC,EAAmD;AAC/Cf,IAAAA,KAAK,CAACgB,GAAN,CAAU,iCAAV,EACKC,IADL,CACWC,GAAD,IAAS;AACXP,MAAAA,aAAa,CAACR,UAAd,GAA2Be,GAAG,CAACC,IAA/B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAV,MAAAA,aAAa,CAACP,UAAd;AACH,KALL,EAMKkB,KANL,CAMYC,GAAD,IAAS;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH,KARL;AASH;AACJ,CAZD","sourcesContent":["import dispatcher from \"../dispatchers/Dispatcher\";\nimport EventEmitter from \"events\";\n\nconst axios = require('axios');\n\nclass LocationStore extends EventEmitter{\n    _locations = [];\n\n    emitChange(){\n        this.emit('change')\n    }\n\n    addChangeListener(callback){\n        this.addListener('change',callback);\n    }\n\n    removeChangeListener(callback){\n        this.removeListener('change', callback);\n    }\n\n\n}\n\nconst locationStore = new LocationStore();\nexport default locationStore;\n\ndispatcher.register((action) => {\n    if (action.command.commandType === 'GET_LOC_LIST') {\n        axios.get('http://localhost:3001/locations')\n            .then((res) => {\n                locationStore._locations = res.data;\n                console.log(\"Locations loaded\");\n                locationStore.emitChange();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n});\n"]},"metadata":{},"sourceType":"module"}